import{_ as w,c as h,w as t,r as o,o as g,a,d as c,b as _,f as y,h as b,g as V,i as $,j as P}from"./_plugin-vue_export-helper.ab70add0.js";const k={name:"LoginPage",data:()=>({show:!1,valid:!1,username:"",password:"",nameRules:[e=>!!e||"Name is required",e=>e.length<=10||"Name must be less than 10 characters"],passRules:[e=>!!e||"Password is required",e=>e.length>=8||"Password must be longer than 8 characters"]}),methods:{async validate(){const{valid:e}=await this.$refs.form.validate();return e},async submit(){await this.validate()&&this.$http.post("/api/auth/signin",{username:this.username,password:this.password}).then(s=>{s.status===200&&this.$window.location.assign("/")})},async register(){await this.validate()&&this.$http.post("/api/auth/signup",{username:this.username,password:this.password,email:"asd@asd"}).then(s=>{s.status===200&&this.$window.location.assign("/")})}}},C=_("div",{class:"text-h2"},"Login",-1);function N(e,s,U,j,B,d){const u=o("v-text-field"),i=o("v-row"),r=o("v-col"),p=o("v-btn"),m=o("v-container"),f=o("v-card"),v=o("v-form");return g(),h(m,{class:"h-screen d-flex justify-center align-center"},{default:t(()=>[a(v,{modelValue:e.valid,"onUpdate:modelValue":s[4]||(s[4]=n=>e.valid=n),class:"h-50 w-25",ref:"form"},{default:t(()=>[a(f,{class:"d-flex flex-column justify-space-evenly align-center h-100",elevation:"10"},{default:t(()=>[C,a(m,{class:"w-75"},{default:t(()=>[a(r,null,{default:t(()=>[a(i,{class:"mb-5"},{default:t(()=>[a(u,{modelValue:e.username,"onUpdate:modelValue":s[0]||(s[0]=n=>e.username=n),rules:e.nameRules,counter:10,label:"Username",required:"",variant:"outlined"},null,8,["modelValue","rules"])]),_:1}),a(i,{class:"mb-5"},{default:t(()=>[a(u,{modelValue:e.password,"onUpdate:modelValue":s[1]||(s[1]=n=>e.password=n),"append-inner-icon":e.show?"mdi-eye":"mdi-eye-off",rules:e.passRules,type:e.show?"text":"password",label:"Password",hint:"At least 8 characters","onClick:appendInner":s[2]||(s[2]=n=>e.show=!e.show),required:"",variant:"outlined"},null,8,["modelValue","append-inner-icon","rules","type"])]),_:1})]),_:1}),a(i,null,{default:t(()=>[a(r,{align:"center"},{default:t(()=>[a(p,{color:"primary",onClick:d.submit,type:"button"},{default:t(()=>[c("Sign-in")]),_:1},8,["onClick"])]),_:1}),a(r,{align:"center"},{default:t(()=>[a(p,{color:"grey",onClick:s[3]||(s[3]=n=>d.register())},{default:t(()=>[c("Register")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const R=w(k,[["render",N]]),q=y({components:$,directives:P}),l=b(R);l.config.globalProperties.$http=V;l.config.globalProperties.$window=window;l.use(q);l.mount("#login");
