import{_ as k,r as t,o as a,c as i,w as s,a as n,b as o,C as g,F as V,D as b,E as f,d as D,e as T,G as A,f as B,g as P,h as N,i as U,j}from"./_plugin-vue_export-helper.9d6ba18c.js";import{d as E,m as S,c as F}from"./pinia.fb04bc0d.js";const y=E("currentItem",{state:()=>({currentItem:{},loading:!1}),actions:{setCurrentItem(e){this.currentItem=e},setLoading(e){this.loading=e},clearCurrentItem(){this.currentItem={}}}}),M={name:"TicketList",data(){return{ticketList:[],loading:!1}},async created(){this.loading=!0;const{data:e}=await this.$http.get("http://localhost:8989/api/supportTicket/getAll");this.ticketList=e,this.loading=!1},computed:{...S(y)},methods:{openTicketDetails(e){this.currentItemStore.setLoading(!0),this.currentItemStore.setCurrentItem(e)}}},R=o("thead",null,[o("tr",null,[o("th",{class:"text-left"}),o("th",{class:"text-left"},"Title"),o("th",{class:"text-left"},"Status"),o("th",{class:"text-left"},"Closed")])],-1);function G(e,d,I,L,_,r){const m=t("v-progress-circular"),l=t("v-icon"),u=t("v-table"),p=t("v-card");return a(),i(p,{title:"Tickets",variant:"tonal"},{default:s(()=>[n(u,{"fixed-header":"",height:"300px"},{default:s(()=>[R,o("tbody",null,[(a(!0),g(V,null,b(_.ticketList,c=>(a(),g("tr",{key:c.name},[o("td",null,[e.currentItemStore.loading?(a(),i(m,{key:0,indeterminate:""})):(a(),i(l,{key:1,icon:"mdi-file-document",onClick:h=>r.openTicketDetails(c)},null,8,["onClick"]))]),o("td",null,f(c.title),1),o("td",null,f(c.status),1),o("td",null,f(c.isClosed),1)]))),128))])]),_:1})]),_:1})}const O=k(M,[["render",G]]),q={name:"VehiclesList",data(){return{vehicleList:[],loading:!1}},async created(){this.loading=!0;const{data:e}=await this.$http.get("http://localhost:8989/api/vehicle/getAll");this.vehicleList=e,this.loading=!1},computed:{...S(y)},methods:{openTicketDetails(e){this.currentItemStore.setLoading(!0),this.currentItemStore.setCurrentItem(e)}}},z=o("thead",null,[o("tr",null,[o("th",{class:"text-left"}),o("th",{class:"text-left"},"Make"),o("th",{class:"text-left"},"Model"),o("th",{class:"text-left"},"Status")])],-1);function H(e,d,I,L,_,r){const m=t("v-progress-circular"),l=t("v-icon"),u=t("v-table"),p=t("v-card");return a(),i(p,{title:"Vehicles",variant:"tonal"},{default:s(()=>[n(u,{"fixed-header":"",height:"300px"},{default:s(()=>[z,o("tbody",null,[(a(!0),g(V,null,b(_.vehicleList,c=>(a(),g("tr",{key:c.name},[o("td",null,[e.currentItemStore.loading?(a(),i(m,{key:0,indeterminate:""})):(a(),i(l,{key:1,icon:"mdi-car-info",onClick:h=>r.openTicketDetails(c)},null,8,["onClick"]))]),o("td",null,f(c.make),1),o("td",null,f(c.model),1),o("td",null,f(c.status),1)]))),128))])]),_:1})]),_:1})}const J=k(q,[["render",H]]),K={updated(){this.currentItemStore.setLoading(!1)},computed:{...S(y),currentItemSet:function(){return this.currentItemStore.currentItem.id!==void 0}},methods:{isSingleLine(e){return e.indexOf(`
`)===-1}}},Q={class:"text-center d-flex align-center"};function W(e,d,I,L,_,r){const m=t("v-text-field"),l=t("v-textarea"),u=t("v-col"),p=t("v-card-text"),c=t("v-btn"),h=t("v-card-actions"),$=t("v-card"),C=t("v-dialog");return a(),g("div",Q,[n(C,{modelValue:r.currentItemSet,"onUpdate:modelValue":d[1]||(d[1]=v=>r.currentItemSet=v),class:"w-25"},{default:s(()=>[n($,null,{default:s(()=>[n(p,null,{default:s(()=>[(a(!0),g(V,null,b(e.currentItemStore.currentItem,(v,x)=>(a(),i(u,{key:x},{default:s(()=>[r.isSingleLine(String(v))?(a(),i(m,{key:0,"model-value":String(v),variant:"outlined",label:x,readonly:""},null,8,["model-value","label"])):(a(),i(l,{key:1,variant:"outlined","model-value":v,label:x,readonly:""},null,8,["model-value","label"]))]),_:2},1024))),128))]),_:1}),n(h,null,{default:s(()=>[n(c,{color:"primary",block:"",onClick:d[0]||(d[0]=v=>e.currentItemStore.clearCurrentItem())},{default:s(()=>[D("Close")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const X=k(K,[["render",W]]),Y={name:"DashboardView",components:{TicketList:O,VehiclesList:J,ItemDetails:X},data(){return{ticketList:[],vehiclesList:[]}},async created(){const e=await this.$http.get("http://localhost:8989/api/supportTicket/getAll");this.ticketList=e.data;const d=await this.$http.get("http://localhost:8989/api/vehicle/getAll");this.vehiclesList=d.data}};function Z(e,d,I,L,_,r){const m=t("TicketList"),l=t("v-col"),u=t("VehiclesList"),p=t("v-row"),c=t("ItemDetails"),h=t("v-container");return a(),i(h,null,{default:s(()=>[n(p,null,{default:s(()=>[n(l,null,{default:s(()=>[n(m)]),_:1}),n(l,null,{default:s(()=>[n(u)]),_:1})]),_:1}),n(c)]),_:1})}const tt=k(Y,[["render",Z]]),et={data(){return{theme:T("dark"),selectedView:"DashboardView"}},components:{DashboardView:tt},methods:{onClick(){this.theme=this.theme==="light"?"dark":"light"},changeView(e){console.log(e),this.selectedView=e.id}}};function nt(e,d,I,L,_,r){const m=t("v-btn"),l=t("v-list-item"),u=t("v-list"),p=t("v-divider"),c=t("v-navigation-drawer"),h=t("v-main"),$=t("v-app");return a(),i($,{theme:_.theme},{default:s(()=>[n(c,null,{default:s(()=>[n(u,null,{default:s(()=>[n(l,{"prepend-avatar":"https://randomuser.me/api/portraits/women/85.jpg",title:"Sandra Adams",subtitle:"sandra_a88@gmailcom"},{append:s(()=>[n(m,{class:"ml-5",ripple:!1,variant:"plain",onClick:r.onClick,icon:_.theme==="light"?"mdi-weather-sunny":"mdi-weather-night"},null,8,["onClick","icon"])]),_:1})]),_:1}),n(p),n(u,{density:"compact",nav:"","onClick:select":r.changeView},{default:s(()=>[n(l,{"prepend-icon":"mdi-view-dashboard",title:"Dashboard",value:"DashboardView"}),n(l,{"prepend-icon":"mdi-car",title:"Vehicles",value:"VehiclesView"}),n(l,{"prepend-icon":"mdi-file-document",title:"Tickets",value:"SupportTicketsView"}),n(l,{"prepend-icon":"mdi-account",title:"Users",value:"UsersView"})]),_:1},8,["onClick:select"])]),_:1}),n(h,null,{default:s(()=>[(a(),i(A(_.selectedView)))]),_:1})]),_:1},8,["theme"])}const ot=k(et,[["render",nt]]),st=B({components:U,directives:j}),w=P(ot);w.config.globalProperties.$http=N;w.config.globalProperties.$window=window;w.use(F());w.use(st);w.mount("#administration");
