import{_ as k,r as e,o as a,c as l,w as s,a as n,b as o,C as g,F as V,D as b,E as f,d as T,e as A,G as B,f as P,g as C,h as N,i as U,j}from"./_plugin-vue_export-helper.ab70add0.js";import{d as E,m as S,c as F}from"./pinia.323941eb.js";const y=E("currentItem",{state:()=>({currentItem:{},loading:!1}),actions:{setCurrentItem(t){this.currentItem=t},setLoading(t){this.loading=t},clearCurrentItem(){this.currentItem={}}}}),M={name:"TicketList",data(){return{ticketList:[],loading:!1}},async created(){this.loading=!0;const{data:t}=await this.$http.get("http://localhost:8989/api/supportTicket/getAll");this.ticketList=t,this.loading=!1},computed:{...S(y)},methods:{openTicketDetails(t){this.currentItemStore.setLoading(!0),this.currentItemStore.setCurrentItem(t)}}},R=o("thead",null,[o("tr",null,[o("th",{class:"text-left"}),o("th",{class:"text-left"},"Title"),o("th",{class:"text-left"},"Status"),o("th",{class:"text-left"},"Closed")])],-1);function G(t,d,I,L,_,r){const m=e("v-progress-circular"),c=e("v-icon"),u=e("v-table"),p=e("v-card");return a(),l(p,{title:"Tickets",variant:"tonal"},{default:s(()=>[n(u,{"fixed-header":"",height:"300px"},{default:s(()=>[R,o("tbody",null,[(a(!0),g(V,null,b(_.ticketList,i=>(a(),g("tr",{key:i.name},[o("td",null,[t.currentItemStore.loading?(a(),l(m,{key:0,indeterminate:""})):(a(),l(c,{key:1,icon:"mdi-file-document",onClick:h=>r.openTicketDetails(i)},null,8,["onClick"]))]),o("td",null,f(i.title),1),o("td",null,f(i.status),1),o("td",null,f(i.isClosed),1)]))),128))])]),_:1})]),_:1})}const O=k(M,[["render",G]]),q={name:"VehiclesList",data(){return{vehicleList:[],loading:!1}},async created(){this.loading=!0;const{data:t}=await this.$http.get("http://localhost:8989/api/vehicle/getAll");this.vehicleList=t,this.loading=!1},computed:{...S(y)},methods:{openTicketDetails(t){this.currentItemStore.setLoading(!0),this.currentItemStore.setCurrentItem(t)}}},z=o("thead",null,[o("tr",null,[o("th",{class:"text-left"}),o("th",{class:"text-left"},"Make"),o("th",{class:"text-left"},"Model"),o("th",{class:"text-left"},"Status")])],-1);function H(t,d,I,L,_,r){const m=e("v-progress-circular"),c=e("v-icon"),u=e("v-table"),p=e("v-card");return a(),l(p,{title:"Vehicles",variant:"tonal"},{default:s(()=>[n(u,{"fixed-header":"",height:"300px"},{default:s(()=>[z,o("tbody",null,[(a(!0),g(V,null,b(_.vehicleList,i=>(a(),g("tr",{key:i.name},[o("td",null,[t.currentItemStore.loading?(a(),l(m,{key:0,indeterminate:""})):(a(),l(c,{key:1,icon:"mdi-car-info",onClick:h=>r.openTicketDetails(i)},null,8,["onClick"]))]),o("td",null,f(i.make),1),o("td",null,f(i.model),1),o("td",null,f(i.status),1)]))),128))])]),_:1})]),_:1})}const J=k(q,[["render",H]]),K={updated(){this.currentItemStore.setLoading(!1)},computed:{...S(y),currentItemSet:function(){return this.currentItemStore.currentItem.id!==void 0}},methods:{isSingleLine(t){return t.indexOf(`
`)===-1}}},Q={class:"text-center d-flex align-center"};function W(t,d,I,L,_,r){const m=e("v-text-field"),c=e("v-textarea"),u=e("v-col"),p=e("v-card-text"),i=e("v-btn"),h=e("v-card-actions"),$=e("v-card"),D=e("v-dialog");return a(),g("div",Q,[n(D,{modelValue:r.currentItemSet,"onUpdate:modelValue":d[1]||(d[1]=v=>r.currentItemSet=v),class:"w-25"},{default:s(()=>[n($,null,{default:s(()=>[n(p,null,{default:s(()=>[(a(!0),g(V,null,b(t.currentItemStore.currentItem,(v,x)=>(a(),l(u,{key:x},{default:s(()=>[r.isSingleLine(String(v))?(a(),l(m,{key:0,"model-value":String(v),variant:"outlined",label:x,readonly:""},null,8,["model-value","label"])):(a(),l(c,{key:1,variant:"outlined","model-value":v,label:x,readonly:""},null,8,["model-value","label"]))]),_:2},1024))),128))]),_:1}),n(h,null,{default:s(()=>[n(i,{color:"primary",block:"",onClick:d[0]||(d[0]=v=>t.currentItemStore.clearCurrentItem())},{default:s(()=>[T("Close")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const X=k(K,[["render",W]]),Y={name:"DashboardView",components:{TicketList:O,VehiclesList:J,ItemDetails:X},data(){return{ticketList:[],vehiclesList:[]}},async created(){const t=await this.$http.get("http://localhost:8989/api/supportTicket/getAll");this.ticketList=t.data;const d=await this.$http.get("http://localhost:8989/api/vehicle/getAll");this.vehiclesList=d.data}};function Z(t,d,I,L,_,r){const m=e("TicketList"),c=e("v-col"),u=e("VehiclesList"),p=e("v-row"),i=e("ItemDetails"),h=e("v-container");return a(),l(h,null,{default:s(()=>[n(p,null,{default:s(()=>[n(c,null,{default:s(()=>[n(m)]),_:1}),n(c,null,{default:s(()=>[n(u)]),_:1})]),_:1}),n(i)]),_:1})}const tt=k(Y,[["render",Z]]),et={data(){return{theme:A("dark"),selectedView:"DashboardView"}},components:{DashboardView:tt},methods:{onClick(){this.theme=this.theme==="light"?"dark":"light"},changeView(t){console.log(t),this.selectedView=t.id}}};function nt(t,d,I,L,_,r){const m=e("v-btn"),c=e("v-list-item"),u=e("v-list"),p=e("v-divider"),i=e("v-navigation-drawer"),h=e("v-main"),$=e("v-app");return a(),l($,{theme:_.theme},{default:s(()=>[n(i,null,{default:s(()=>[n(u,null,{default:s(()=>[n(c,{"prepend-avatar":"https://randomuser.me/api/portraits/women/85.jpg",title:"Sandra Adams",subtitle:"sandra_a88@gmailcom"},{append:s(()=>[n(m,{class:"ml-5",ripple:!1,variant:"plain",onClick:r.onClick,icon:_.theme==="light"?"mdi-weather-sunny":"mdi-weather-night"},null,8,["onClick","icon"])]),_:1})]),_:1}),n(p),n(u,{density:"compact",nav:"","onClick:select":r.changeView},{default:s(()=>[n(c,{"prepend-icon":"mdi-view-dashboard",title:"Dashboard",value:"DashboardView"}),n(c,{"prepend-icon":"mdi-car",title:"Vehicles",value:"VehiclesView"}),n(c,{"prepend-icon":"mdi-file-document",title:"Tickets",value:"SupportTicketsView"}),n(c,{"prepend-icon":"mdi-account",title:"Users",value:"UsersView"})]),_:1},8,["onClick:select"])]),_:1}),n(h,null,{default:s(()=>[(a(),l(B(_.selectedView)))]),_:1})]),_:1},8,["theme"])}const ot=k(et,[["render",nt]]),st=P({components:U,directives:j});C.get("api/auth/current-user").then(t=>{t.data||window.location.assign("/login/")});const w=N(ot);w.config.globalProperties.$http=C;w.config.globalProperties.$window=window;w.use(F());w.use(st);w.mount("#administration");
