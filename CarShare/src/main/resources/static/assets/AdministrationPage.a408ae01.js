import{d as C,m as S,r as e,o as l,c as r,w as s,a as n,b as o,e as I,F as V,f as $,t as k,g as T,h as D,i as A}from"./index.d8ed0f54.js";const b=C("currentItem",{state:()=>({currentItem:{},loading:!1}),actions:{setCurrentItem(t){this.currentItem=t},setLoading(t){this.loading=t},clearCurrentItem(){this.currentItem={}}}}),w=(t,i)=>{const h=t.__vccOpts||t;for(const[f,d]of i)h[f]=d;return h},B={name:"TicketList",data(){return{ticketList:[],loading:!1}},async created(){this.loading=!0;const{data:t}=await this.$http.get("http://localhost:8989/api/supportTicket/getAll");this.ticketList=t,this.loading=!1},computed:{...S(b)},methods:{openTicketDetails(t){this.currentItemStore.setLoading(!0),this.currentItemStore.setCurrentItem(t)}}},N=o("thead",null,[o("tr",null,[o("th",{class:"text-left"}),o("th",{class:"text-left"},"Title"),o("th",{class:"text-left"},"Status"),o("th",{class:"text-left"},"Closed")])],-1);function U(t,i,h,f,d,_){const m=e("v-progress-circular"),a=e("v-icon"),u=e("v-table"),p=e("v-card");return l(),r(p,{title:"Tickets",variant:"tonal"},{default:s(()=>[n(u,{"fixed-header":"",height:"300px"},{default:s(()=>[N,o("tbody",null,[(l(!0),I(V,null,$(d.ticketList,c=>(l(),I("tr",{key:c.name},[o("td",null,[t.currentItemStore.loading?(l(),r(m,{key:0,indeterminate:""})):(l(),r(a,{key:1,icon:"mdi-file-document",onClick:v=>_.openTicketDetails(c)},null,8,["onClick"]))]),o("td",null,k(c.title),1),o("td",null,k(c.status),1),o("td",null,k(c.isClosed),1)]))),128))])]),_:1})]),_:1})}const F=w(B,[["render",U]]),M={name:"VehiclesList",data(){return{vehicleList:[],loading:!1}},async created(){this.loading=!0;const{data:t}=await this.$http.get("http://localhost:8989/api/vehicle/getAll");this.vehicleList=t,this.loading=!1},computed:{...S(b)},methods:{openTicketDetails(t){this.currentItemStore.setLoading(!0),this.currentItemStore.setCurrentItem(t)}}},O=o("thead",null,[o("tr",null,[o("th",{class:"text-left"}),o("th",{class:"text-left"},"Make"),o("th",{class:"text-left"},"Model"),o("th",{class:"text-left"},"Status")])],-1);function R(t,i,h,f,d,_){const m=e("v-progress-circular"),a=e("v-icon"),u=e("v-table"),p=e("v-card");return l(),r(p,{title:"Vehicles",variant:"tonal"},{default:s(()=>[n(u,{"fixed-header":"",height:"300px"},{default:s(()=>[O,o("tbody",null,[(l(!0),I(V,null,$(d.vehicleList,c=>(l(),I("tr",{key:c.name},[o("td",null,[t.currentItemStore.loading?(l(),r(m,{key:0,indeterminate:""})):(l(),r(a,{key:1,icon:"mdi-car-info",onClick:v=>_.openTicketDetails(c)},null,8,["onClick"]))]),o("td",null,k(c.make),1),o("td",null,k(c.model),1),o("td",null,k(c.status),1)]))),128))])]),_:1})]),_:1})}const j=w(M,[["render",R]]),E={updated(){this.currentItemStore.setLoading(!1)},computed:{...S(b),currentItemSet:function(){return this.currentItemStore.currentItem.id!==void 0}},methods:{isSingleLine(t){return t.indexOf(`
`)===-1}}},P={class:"text-center d-flex align-center"};function q(t,i,h,f,d,_){const m=e("v-text-field"),a=e("v-textarea"),u=e("v-col"),p=e("v-card-text"),c=e("v-btn"),v=e("v-card-actions"),L=e("v-card"),y=e("v-dialog");return l(),I("div",P,[n(y,{modelValue:_.currentItemSet,"onUpdate:modelValue":i[1]||(i[1]=g=>_.currentItemSet=g),class:"w-25"},{default:s(()=>[n(L,null,{default:s(()=>[n(p,null,{default:s(()=>[(l(!0),I(V,null,$(t.currentItemStore.currentItem,(g,x)=>(l(),r(u,{key:x},{default:s(()=>[_.isSingleLine(String(g))?(l(),r(m,{key:0,"model-value":String(g),variant:"outlined",label:x,readonly:""},null,8,["model-value","label"])):(l(),r(a,{key:1,variant:"outlined","model-value":g,label:x,readonly:""},null,8,["model-value","label"]))]),_:2},1024))),128))]),_:1}),n(v,null,{default:s(()=>[n(c,{color:"primary",block:"",onClick:i[0]||(i[0]=g=>t.currentItemStore.clearCurrentItem())},{default:s(()=>[T("Close")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const z=w(E,[["render",q]]),G={name:"DashboardView",components:{TicketList:F,VehiclesList:j,ItemDetails:z},data(){return{ticketList:[],vehiclesList:[]}},async created(){const t=await this.$http.get("http://localhost:8989/api/supportTicket/getAll");this.ticketList=t.data;const i=await this.$http.get("http://localhost:8989/api/vehicle/getAll");this.vehiclesList=i.data}};function H(t,i,h,f,d,_){const m=e("TicketList"),a=e("v-col"),u=e("VehiclesList"),p=e("v-row"),c=e("ItemDetails"),v=e("v-container");return l(),r(v,null,{default:s(()=>[n(p,null,{default:s(()=>[n(a,null,{default:s(()=>[n(m)]),_:1}),n(a,null,{default:s(()=>[n(u)]),_:1})]),_:1}),n(c)]),_:1})}const J=w(G,[["render",H]]),K={data(){return{theme:D("dark"),selectedView:"DashboardView"}},components:{DashboardView:J},methods:{onClick(){this.theme=this.theme==="light"?"dark":"light"},changeView(t){console.log(t),this.selectedView=t.id}}};function Q(t,i,h,f,d,_){const m=e("v-btn"),a=e("v-list-item"),u=e("v-list"),p=e("v-divider"),c=e("v-navigation-drawer"),v=e("v-main"),L=e("v-app");return l(),r(L,{theme:d.theme},{default:s(()=>[n(c,null,{default:s(()=>[n(u,null,{default:s(()=>[n(a,{"prepend-avatar":"https://randomuser.me/api/portraits/women/85.jpg",title:"Sandra Adams",subtitle:"sandra_a88@gmailcom"},{append:s(()=>[n(m,{class:"ml-5",ripple:!1,variant:"plain",onClick:_.onClick,icon:d.theme==="light"?"mdi-weather-sunny":"mdi-weather-night"},null,8,["onClick","icon"])]),_:1})]),_:1}),n(p),n(u,{density:"compact",nav:"","onClick:select":_.changeView},{default:s(()=>[n(a,{"prepend-icon":"mdi-view-dashboard",title:"Dashboard",value:"DashboardView"}),n(a,{"prepend-icon":"mdi-car",title:"Vehicles",value:"VehiclesView"}),n(a,{"prepend-icon":"mdi-file-document",title:"Tickets",value:"SupportTicketsView"}),n(a,{"prepend-icon":"mdi-account",title:"Users",value:"UsersView"})]),_:1},8,["onClick:select"])]),_:1}),n(v,null,{default:s(()=>[(l(),r(A(d.selectedView)))]),_:1})]),_:1},8,["theme"])}const X=w(K,[["render",Q]]);export{X as default};
